<!DOCTYPE html>
<html>

<head>
   <meta charset="UTF-8" />
   <title>Chosen one</title>
   <style></style>
</head>

<body>
   <h3>Vapaaehtoisen valinta</h3>
   <label>Nimi:</label>
   <input type="text" id="name" value="" />
   <input type="button" value="Lisää nimi" onclick="add()" />
   <input type="button" value="Suorita arvonta" onclick="lot()" />
   <br><br>
   <div id="result"></div>
   <div id="result2"></div>

   <script>
      document.getElementById("name").focus(); // kursori menee automaattisesti
      var names = []; // names-taulukkomuuttuja

      function add() {
         var name = document.getElementById("name").value;

         if (name.length > 1) {
            //indexOf:lla etsitään merkkijonoa toisen merkkijonon sisältä
            if (("," + names + ",").indexOf("," + name + ",") != -1) {
               alert("Nimi on jo annettu =) ");
            } else {
               names.push(name); // Lisätään name names -taulukkoon
               document.getElementById("name").value = "";
               document.getElementById("name").focus();
            }
            document.getElementById("result").innerHTML =
               "Lisätty: " + names + "<br><br>";
            show();
         }
      }
      function show() {
         var text = "";

         for (var i = 0; i < names.length; i++) {
            text += i + " : " + names[i] + "<br>";
         }
         document.getElementById("result2").innerHTML = text;
      }
      function lot() {
         var chosen = Math.round(Math.random() * (names.length - 1));

         document.getElementById("result2").innerHTML =
            "Valittu: " + names[chosen];
      }
   </script>
</body>

</html>